---
import Layout from "@/layouts/Layout.astro";
import HeroContainer from "@/components/HeroContainer.astro";
import Breadcrumb from "@/components/Breadcrumb.astro";
import NewsList from "@/components/NewsList.astro";
import { getI18N } from "@/i18n"

const response = await fetch("https://porticosport.com/wp-json/wp/v2/posts?_embed")
const posts = await response.json();


const { currentLocale } = Astro
const i18n = getI18N({ currentLocale })
---

<Layout title={i18n.NEWS.TITLE} description={i18n.NEWS.SUBTITLE}>
  <HeroContainer img="/factory-portico.webp" imgAlt={i18n.NEWS.TITLE_ALT} heading={i18n.NEWS.TITLE} />
  <main class="pb-24 flex flex-col">
    <Breadcrumb
      crumbs={[
        { label: i18n.BREADCRUMB.HOME.LABEL, href: i18n.BREADCRUMB.HOME.URL },
        { label: i18n.BREADCRUMB.NEWS.LABEL, href: i18n.BREADCRUMB.NEWS.URL },
      ]} />
    <NewsList posts={posts} />
  </main>
</Layout>
