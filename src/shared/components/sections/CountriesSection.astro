---
import Section from "@/shared/components/Section.astro";
import Typography from "@/shared/components/ui/Typography.astro";
import { getI18N } from "@/shared/i18n/";
import Button from "@/shared/components/Button.astro";

interface ButtonItem {
  TEXT: string;
  URL: string;
  TITLE: string;
}

interface Props {
  showInfo?: boolean;
  language: string;
  buttons?: ButtonItem[];
}

const { showInfo = true, language, buttons } = Astro.props;
const i18n = getI18N({ language });

const defaultButtons: ButtonItem[] = [
  i18n.PAGES.HOME.COUNTRIES_SECTION.BUTTON_1,
  i18n.PAGES.HOME.COUNTRIES_SECTION.BUTTON_2,
  i18n.PAGES.HOME.COUNTRIES_SECTION.BUTTON_3,
  i18n.PAGES.HOME.COUNTRIES_SECTION.BUTTON_4,
  i18n.PAGES.HOME.COUNTRIES_SECTION.BUTTON_5,
  i18n.PAGES.HOME.COUNTRIES_SECTION.BUTTON_6,
];

// ðŸ‘‰ si vienen botones por props, se usan; si no, los del i18n
const finalButtons = buttons ?? defaultButtons;
---

{showInfo && (
  <>
    <Typography
      tag="h2"
      className="text-center mt-12 mb-4 font-bold"
      text={i18n.PAGES.HOME.COUNTRIES_SECTION.TITLE}
    />

    <Typography
      tag="div"
      type="primary"
      className="mb-4 text-center"
      text={i18n.PAGES.HOME.COUNTRIES_SECTION.SUBTITLE}
    />
  </>
)}

<Section>
  <div class="grid gap-4 justify-center items-center sm:grid-cols-2 xs:grid-cols-1">
    {finalButtons.map((btn) => (
      <Button
        class="button"
        url={btn.URL}
        target="_self"
        title={btn.TITLE}
      >
        {btn.TEXT}
      </Button>
    ))}
  </div>
</Section>

<style>
.button {
  width: 100%;
  text-align: center;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 64px;
}
</style>
