---
import Section from "@/shared/components/Section.astro";
import Typography from '@/shared/components/ui/Typography.astro';
import { getI18N } from "@/shared/i18n/"

const { title, subtitle, description, language } = Astro.props
const i18n = getI18N({ language })
---

<Section className="relative max-w-none" style="padding: 0; margin-left: 0; margin-right: 0;">
  <div class="wrapper-light absolute w-full h-[1000px]">
    <div id="light" class="left">
      <div id="mask_container">
        <div class="mask" />
      </div>
    </div>
  </div>
  <div class="shadow-light bg-black/50 rounded-xl relative px-6 py-12  max-w-[1200px] my-16 mx-6 md:mx-12 xl:mx-auto">
    <Typography tag="h2" text={title} type="secondary" className="mb-6 font-bold uppercase" />
    <Typography tag="h3" text={subtitle} type="primary" className="font-thin mb-4" />
    <Typography tag="div" text={description} className="pb-2 shadow-glass" />
    <div>
      <Typography tag="h3" text={i18n.LIGHTING_SECTION.MASTS_TITLE} type="primary" className="font-thin mt-6 mb-4" />
      <Typography tag="div" text={i18n.LIGHTING_SECTION.MASTS_DESCRIPTION} className="pb-2" />
      <div class="flex flex-col sm:flex-row gap-4 md:gap-8">
        {
          i18n.LIGHTING_SECTION.LIGHTING_MASTS.map((type) => (
            <div class="flex-1 text-center flex flex-col justify-between md:justify-start gap-2">
              <Typography tag="h4" text={type.title} type="secondary" className="font-bold mb-2 uppercase" />
              <img loading="lazy" src={type.image} alt={type.title} class="w-full rounded-xl aspect-video object-cover" />
              <Typography tag="p" text={type.description} className="text-center" size="small" />
            </div>
          ))
        }
      </div>
    </div>
  </div>
</Section>

<style>
  .wrapper-light {
    background-image: -webkit-gradient(
      radial,
      50% 0%,
      0,
      50% 0%,
      319,
      color-stop(0%, #b7e4fd),
      color-stop(100%, #1c1917)
    );
    background-image: -webkit-radial-gradient(
      center top,
      farthest-corner,
      #b7e4fd 0%,
      #1c1917 100%
    );
    background-image: -moz-radial-gradient(
      center top,
      farthest-corner,
      #b7e4fd 0%,
      #1c1917 100%
    );
    background-image: -ms-radial-gradient(
      center top,
      farthest-corner,
      #b7e4fd 0%,
      #1c1917 100%
    );
    background-image: -o-radial-gradient(
      center top,
      farthest-corner,
      #b7e4fd 0%,
      #1c1917 100%
    );
    background-image: radial-gradient(
      farthest-corner at center top,
      #b7e4fd 0%,
      #1c1917 100%
    );
    opacity: 0;
    animation: light-in ease-in .5s forwards;
    animation-timeline: view();
    animation-range: 82vh 90vh;
  }

  div#light {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    z-index: 2;
    background: rgba(0, 0, 0, 0.8);
  }
  div#light.left {
    background: none;
    background-image: -webkit-gradient(
      radial,
      0% 0%,
      0,
      0% 0%,
      337,
      color-stop(0%, rgba(0, 0, 0, 0)),
      color-stop(100%, rgb(21 26 54) 100%)
    );
    background-image: -webkit-radial-gradient(
      left top,
      farthest-side,
      rgba(0, 0, 0, 0) 0%,
      rgb(21 26 54) 100% 100%
    );
    background-image: -moz-radial-gradient(
      left top,
      farthest-side,
      rgba(0, 0, 0, 0) 0%,
      rgb(21 26 54) 100% 100%
    );
    background-image: -ms-radial-gradient(
      left top,
      farthest-side,
      rgba(0, 0, 0, 0) 0%,
      rgb(21 26 54) 100% 100%
    );
    background-image: -o-radial-gradient(
      left top,
      farthest-side,
      rgba(0, 0, 0, 0) 0%,
      rgb(21 26 54) 100% 100%
    );
    background-image: radial-gradient(
      farthest-side at left top,
      rgba(0, 0, 0, 0) 0%,
      rgb(21 26 54) 100% 100%
    );
  }
  div#light.none {
    opacity: 0;
  }
  div#mask_container {
    width: 260px;
    height: 140px;
    margin: 90px auto;
  }
  div.mask {
    width: 124px;
    height: 128px;
    float: left;
    margin: 4px 2px;
  }
  .shadow-light {
    filter: drop-shadow(1px 1px 10px rgb(183 228 253));
    opacity: 0;
    animation: light-in ease-in .5s forwards;
    animation-timeline: view();
    animation-range: 80vh 85vh;
  }

  @keyframes light-in {
    to {
      opacity: 1;
    }
  }
</style>
