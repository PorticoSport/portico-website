---
import { getI18N, getCurrentLocale, getCategoryByLanguage  } from "@/shared/i18n"
import Section from '@/shared/components/Section.astro';
import Typography from "@/shared/components/ui/Typography.astro";
import Gallery from "../Gallery.astro"
import Layout from "@/shared/layouts/Layout.astro";
import "photoswipe/style.css";
import Button from "src/shared/components/Button.astro";
import SectionContact from "@/shared/components/sections/SectionContact.astro"
import { type Photo } from "@/types/types.ts";

interface Props {
  language: string
  projectsGallery: Photo[]

}

const { language, projectsGallery} = Astro.props
const i18n = getI18N({ language })
const currentLocale = getCurrentLocale({ language })

---
<Layout title={i18n.PAGES.SECTION_AUS.SEO_TITLE} description={i18n.PAGES.SECTION_AUS.SEO_DESCRIPTION} currentLocale={currentLocale} language={language}>
    
    <main>

        <Section>
            <h1 class="text-3xl md:text-4xl lg:text-5xl p-20 text-center tracking-wide text-secondary uppercase mb-6 font-bold">
              <span class="block">{i18n.PAGES.SECTION_AUS.TITLE}</span>
            </h1>
          
        </Section>
        
    <Section 
    id={i18n.PAGES.SECTION_AUS.ID} 
    heading2={i18n.PAGES.SECTION_AUS.FIRST_SECTION.TITLE}
    subheading= {i18n.PAGES.SECTION_AUS.FIRST_SECTION.SUBTITLE}>
    <Typography tag="div" className="mb-16" text={i18n.PAGES.SECTION_AUS.FIRST_SECTION.DESCRIPTION}/>
    <Section/>
    <div class="scroller">
        <ul class="tag-list scroller_inner items-center">
          <li><img src="../../../../public/indoor-padel-aus/Australia-Indoor-Padel4.webp"></li>
          <li><img src="/public/indoor-padel-aus/Australia-Indoor-Padel3.webp"></li>
          <li><img src="/public/indoor-padel-aus/Australia-Indoor-Padel5.webp"></li>
          <li><img src="/public/indoor-padel-aus/Australia-Indoor-Padel7.webp"></li>
          <li><img src="/public/indoor-padel-aus/Australia-Indoor-Padel9.webp"></li>
      </div>
</Section>
    <div class="text-center mx-auto pt-20">
        <Button size="sm" url={i18n.PAGES.SECTION_AUS.FIRST_SECTION.ROUTE.URL} target="_self">
          {i18n.PAGES.SECTION_AUS.FIRST_SECTION.ROUTE.LABEL}
        </Button>
      </div>
    </Section>

    <Section
        heading2={i18n.PAGES.SECTION_AUS.PROJECTS_SECTION.TITLE_GALLERY}>  
        <Gallery

      id={i18n.PAGES.SECTION_AUS.PROJECTS_SECTION.ID_GALLERY}
      photos={projectsGallery}
      offset={2}
      path={i18n.PAGES.SECTION_AUS.PROJECTS_SECTION.PATH}
      urlButton={i18n.PAGES.HOME.PROJECTS_SECTION.URL.SRC}
      urlText={i18n.PAGES.SECTION_AUS.PROJECTS_SECTION.URL.LABEL}
    /> 
    <Section
    heading2={i18n.PAGES.SECTION_AUS.BUILDING_SECTION.TITLE}>
    <Typography tag="div" className="mb-16" text={i18n.PAGES.SECTION_AUS.BUILDING_SECTION.DESCRIPTION}>
    
    </Section>
          <SectionContact
          id={i18n.PAGES.SECTION_AUS.CONTACT_SECTION.ID}
          hiddenSubject
          title={i18n.PAGES.SECTION_AUS.CONTACT_SECTION.TITLE}
          description={i18n.PAGES.SECTION_AUS.CONTACT_SECTION.DESCRIPTION_1}
          language={language}
          bgImage={i18n.PAGES.HOME.CONTACT_SECTION.BG_IMAGE}
          image={i18n.PAGES.HOME.CONTACT_SECTION.IMAGE}
        />
          
        
    </main>
</Layout>
<style>
    .tag-list {
      list-style: none;
      margin: 0;
      padding-inline: 0;
    }
    .tag-list li {
      padding: 1rem 0rem;
      background: current;
      position: relative;
      width: 300px;
      height: 300px;
      opacity: 0.8;
    }
    
    .scroller {
      max-width: calc(100% - 1px);
    }
    
    .scroller_inner {
      padding-block: 1rem;
      display: flex;
      flex-wrap: wrap;
      gap: 1rem
    }
    
    .scroller[data-animated="true"] {
      overflow: hidden;
      /* mask: linear-gradient(to right, transparent, currentColor 50px, currentColor calc(100% - 50px), transparent); */
      -webkit-mask: linear-gradient(90deg, transparent, white 20%, white 80%, transparent);
      mask: linear-gradient(90deg, transparent, white 20%, white 80%, transparent);
    }
    
    .scroller[data-animated="true"] .scroller_inner {
      width: max-content;
      flex-wrap: nowrap;
      animation: scroll 40s linear infinite;
    }
    
    @keyframes scroll {
      to {
        transform: translate(calc(-50% - .5rem));
      }
    }
    
    </style>
    
    <script type="module">
      document.addEventListener('astro:page-load', () => {
        const scroller = document.querySelector(".scroller");
      
        function addAnimation() {
          scroller.setAttribute("data-animated", true)
          const scrollerInner = scroller.querySelector(".scroller_inner")
          const scrollerContent = Array.from(scrollerInner.children)
      
          scrollerContent.forEach((item) => {
            const clone = item.cloneNode(true)
            clone.setAttribute("aria-hidden", true)
            scrollerInner.appendChild(clone)
          })
        }
      
        if (!window.matchMedia("(prefers-reduced-motion: reduce)").matches) {
          addAnimation()
        }
      })
    </script>
    

