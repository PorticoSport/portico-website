---
import Layout from "@/shared/layouts/Layout.astro"
import Video from "@/shared/components/Video.astro"
import SectionIntroOceania from "@/shared/components/sections/SectionIntroOC.astro"
import Typography from "@/shared/components/ui/Typography.astro"
import SectionBentoOC from "@/shared/components/sections/SectionBentoOC.astro"
import SectionContact from "@/shared/components/sections/SectionContact.astro"
import SectionCourts from "@/shared/components/sections/SectionCourts.astro"
import SectionCanopies from "@/shared/components/sections/SectionCanopies.astro"
import SectionPartnerLogos from "@/shared/components/sections/SectionPartnerLogos.astro";
import { getI18N, getCurrentLocale, getCategoryByLanguage } from "@/shared/i18n"
import SectionComplementsOC from "@/shared/components/sections/SectionComplementsOC.astro"
import Button from "src/shared/components/Button.astro";
import NewsList from "../NewsList.astro"
import Gallery from "../Gallery.astro"
import { type Photo } from "@/types/types.ts";
import SectionGraphicProcessOceania from "@/shared/components/sections/SectionGraphicProcessOC.astro"
import SectionInfiniteScroll from "@/shared/components/sections/SectionInfiniteScroll.astro"
import HexagonCupLogo from "@/shared/components/logos/LogoHexagonCup.astro";
import SectionFaqs from "@/shared/components/sections/SectionFaqs.astro"
import NormativeLogos from "@/shared/components/sections/NormativeLogosOC.astro";
import Breadcrumb from "@/shared/components/Breadcrumb.astro";
import Slider from "@/shared/components/sections/Slider.astro";
interface Props {
  language: string,
  projectsGallery: Photo[]
}

const { language,  projectsGallery } = Astro.props
const i18n = getI18N({ language })
const currentLocale = getCurrentLocale({language})
const category = getCategoryByLanguage({language})

const response = await fetch(`https://portico.porticosport.com/wp-json/wp/v2/posts?categories=67,51&per_page=15&_embed`)
// const response = await fetch(`https://portico.porticosport.com/wp-json/wp/v2/posts?per_page=6&_embed`)
const posts = await response.json();
---

<Layout title={i18n.PAGES.HOME.SEO_TITLE_OCEANIA} description={i18n.PAGES.HOME.SEO_DESCRIPTION_OCEANIA} contactForm robots="index,follow" currentLocale={currentLocale} language={language}>

  <Video language={language} video="/portico-sport-home-video.mp4" subtitle={i18n.PAGES.HOME.SUBTITLE_OCEANIA} title={i18n.PAGES.HOME.TITLE_OCEANIA} buttonUrl={i18n.PAGES.HOME.CONTACT_BUTTON.URL} buttonText={i18n.PAGES.HOME.CONTACT_BUTTON.LABEL} language={language} classVideo="cp-elipse" subject={i18n.PAGES.HOME.CONTACT_SECTION.SUBJECT} uk>
    <div
      slot="bottom"
      class="absolute bottom-[10%] w-40 md:bottom-1/4 md:w-[200px] left-1/2 -translate-x-1/2 md:translate-x-0 md:left-10 z-10"
    >

      <div class="flex flex-col gap-2">
        <button id="logo-hexagon-cup">
          <HexagonCupLogo />
        </button>
      </div>
    </div>
  </Video>
  <main>
<Breadcrumb
    crumbs={[
      { label: i18n.PAGES.HOME.ROUTE.BREADCRUMB, href: i18n.PAGES.HOME.ROUTE.URL },
      { label: i18n.PAGES.HOME.OCEANIA_ROUTE.LABEL, href: i18n.PAGES.HOME.OCEANIA_ROUTE.URL },
    ]}
  />
    <SectionIntroOceania language={language} />
<section 
      id={i18n.PAGES.HOME.PROJECTS_SECTION_OCEANIA.ID}
    >
      <Typography tag="h2" text={i18n.PAGES.HOME.PROJECTS_SECTION_OCEANIA.TITLE} className="mx-auto mb-8 mt-10 text-center font-semibold uppercase" />

    <Gallery
      heading={i18n.PAGES.HOME.PROJECTS_SECTION_OCEANIA.TITLE_GALLERY}
      id={i18n.PAGES.HOME.PROJECTS_SECTION_OCEANIA.ID_GALLERY}
      photos={projectsGallery}
      offset={3}
      path={i18n.PAGES.HOME.PROJECTS_SECTION_OCEANIA.PATH}
      urlButton={i18n.PAGES.HOME.PROJECTS_SECTION_OCEANIA.URL.SRC}
      buttonTitle={i18n.PAGES.HOME.PROJECTS_SECTION_OCEANIA.URL.TITLE}
      urlText={i18n.PAGES.HOME.PROJECTS_SECTION_OCEANIA.URL.LABEL}
    />  
      <div class="border-y border-primary mt-8 h-[600px] bg-center bg-cover" style={{backgroundImage: 'url("projects-map.webp")'}} />
    </section>
    <SectionGraphicProcessOceania language={language} />
    <SectionInfiniteScroll language={language} />
    <SectionCourts language={language}></SectionCourts>
    <NormativeLogos language={language} showInfo />
    <SectionCanopies
    video="/cubiertas-spot.webm"
    subtitle={i18n.PAGES.HOME.CANOPIES_SECTION_OCEANIA.SUBTITLE}
    title={i18n.PAGES.HOME.CANOPIES_SECTION_OCEANIA.TITLE}
    text={i18n.PAGES.HOME.CANOPIES_SECTION_OCEANIA.TEXT}
    buttonUrl={i18n.PAGES.CANOPIES.ROUTE.URL}
    buttonText={i18n.PAGES.HOME.CANOPIES_SECTION_OCEANIA.BUTTON_TEXT}
    buttonTitle={i18n.PAGES.HOME.CANOPIES_SECTION_OCEANIA.BUTTON_TITLE}
  />
  
  
<section>
      <Typography tag="h2" className="mb-6 mt-8 font-bold text-center" text={i18n.PAGES.HOME.TITLE_AUS_NZ}/>
      <Typography tag="p" type="primary" className="text-xl text-center" text={i18n.PAGES.HOME.SUBTITLE_AUS_NZ} responsive/>
      <div class="pt-20 flex justify-center gap-10 w-full" >
        <Button size="md" title="Padel courts builders Australia" url={i18n.PAGES.HOME.AUS_ROUTE.URL} >
          {i18n.PAGES.HOME.AUS_ROUTE.LABEL}
        </Button>
        <Button size="md" title="Padel courts builders New Zealand" url={i18n.PAGES.HOME.NZ_ROUTE.URL} >
          {i18n.PAGES.HOME.NZ_ROUTE.LABEL}
        </Button>
      </div>
    </section>
    <SectionBentoOC language={language} />

    <SectionComplementsOC language={language} />


    <SectionFaqs items={i18n.PAGES.HOME.FAQS_SECTION.QUESTIONS_OCEANIA} title={i18n.PAGES.HOME.FAQS_SECTION.TITLE_OCEANIA} subtitle={i18n.PAGES.HOME.FAQS_SECTION.SUBTITLE} />
  <Slider language={language} posts={posts} />
  <SectionContact
  id={i18n.PAGES.HOME.CONTACT_SECTION.ID}
  hiddenSubject
  subject={i18n.PAGES.HOME.CONTACT_SECTION.SUBJECT}
  title={i18n.CONTACT_FORM.TITLE_OCEANIA}
  language={language}
  bgImage={i18n.PAGES.HOME.CONTACT_SECTION.BG_IMAGE}
  image={i18n.PAGES.HOME.CONTACT_SECTION.IMAGE}
  description={i18n.PAGES.HOME.CONTACT_SECTION_OCEANIA.DESCRIPTION}
  uk
/>  
<SectionPartnerLogos />
</main>

</Layout>

<script>
  const logoHexagonCup = document.getElementById('logo-hexagon-cup');

  logoHexagonCup?.addEventListener('click', () => {
    window.open('https://www.hexagoncup.com/', '_blank');
  });

</script>
