---
import Layout from "@/shared/layouts/Layout.astro";
import Breadcrumb from "@/shared/components/Breadcrumb.astro";
import ProjectsClubsSection from "@/shared/components/sections/ProjectsClubsSection.astro";
import MapProjects from "@/shared/components/MapProjects";
import countries from "@/shared/data/countries.json";
import { getI18N, getCurrentLocale } from "@/shared/i18n";

interface Props {
  language: string;
}

const { language } = Astro.props;
const i18n = getI18N({ language });
const currentLocale = getCurrentLocale({ language });
---

<Layout
  title={i18n.PAGES.PROJECTS.SEO_TITLE}
  description={i18n.PAGES.PROJECTS.SEO_DESCRIPTION}
  currentLocale={currentLocale}
  language={language}
  bgImage="/heros/background-projects.webp"
  bgClass="brightness-50"
>
  <main class="flex flex-col gradient-bg relative">
    <div class="text-center left-0 top-0 w-full min-h-[40rem] lg:aspect-video flex justify-center items-center flex-col lg:-mt-20 gap-4 px-4">
      <span class="uppercase text-balance">{i18n.PAGES.PROJECTS.SUBTITLE}</span>
      <h1
        class="text-xl md:text-2xl lg:text-4xl uppercase mb-6 text-balance"
        set:html={i18n.PAGES.PROJECTS.TITLE}
      />
      <h2 class="text-base md:text-xl lg:text-2xl mb-2 text-secondary text-balance uppercase">
        {i18n.PAGES.PROJECTS.POSTTITLE}
      </h2>
    </div>
    <div class="bg-main relative bg-background">
      <Breadcrumb
        crumbs={[
          { label: i18n.PAGES.HOME.ROUTE.LABEL, href: i18n.PAGES.HOME.ROUTE.URL },
          { label: i18n.PAGES.PROJECTS.ROUTE.LABEL, href: i18n.PAGES.PROJECTS.ROUTE.URL },
        ]}
      />
      <ProjectsClubsSection
        title={i18n.PAGES.PROJECTS.PROJECTS_CLUB_SECTION.TITLE}
        subtitle={i18n.PAGES.PROJECTS.PROJECTS_CLUB_SECTION.SUBTITLE}
        countries={countries}
      />
      <section class="border-t border-primary mt-8 min-h-[500px]">
        <MapProjects client:only />
      </section>
    </div>
  </main>
</Layout>
