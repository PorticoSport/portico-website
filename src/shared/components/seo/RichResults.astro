---
import { getI18N } from "@/shared/i18n";

interface Props {
  key: string,
  language: string,
  pathname: string
}

/** https://developers.google.com/search/docs/appearance/structured-data/organization */
const organizationSchema = {
	"@context": "https://schema.org",
	"@type": "Organization",
	"url": "https://www.porticosport.com",
	"image": "https://www.porticosport.com/og/og-portico.jpg",
	"sameAs": [
		"https://www.facebook.com/porticosport",
		"https://x.com/portico_sport",
		"https://www.instagram.com/portico.sport",
		"https://www.linkedin.com/company/portico-sport/"
	],
	"logo": "https://www.porticosport.com/logo-portico-sport.svg",
	"name": "Portico Sport: Padel Courts & Canopies Worldwide",
	"description": "Portico Sport: Premier Padel court construction & canopy installation globally",
  "email": "info@porticosport.com",
  "telephone": "+34-628-818-913",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "C/ Alba√±iles",
    "addressLocality": "Badajoz",
    "addressCountry": "ES",
    "addressRegion": "Villafranca de los Barros",
  },
}
const { site } = Astro
const { language, key, pathname } = Astro.props

const i18n = getI18N({ language });
const { TYPE, ROUTE, SEO_DESCRIPTION, OG_IMG } = i18n.PAGES[key]

const TYPES = {
  PRODUCT: {
  "@context": "https://schema.org/",
  "@type": "BreadcrumbList",
  "itemListElement": [{
    "@type": "ListItem",
    "position": 1,
    "name": i18n.PAGES.HOME.ROUTE.BREADCRUMB,
    "item": site
  },{
    "@type": "ListItem",
    "position": 2,
    "name": ROUTE.TITLE || ROUTE.LABEL,
    "item": `${site}${pathname.slice(0,1) === '/' ? pathname.slice(1) : pathname}`
  }]
},
  DEFAULT: organizationSchema
}

let schema = TYPES.DEFAULT

if (TYPE) {
  schema = TYPES[TYPE] || TYPES.DEFAULT;
}
---

<script type="application/ld+json" set:html={JSON.stringify(schema)} />